"use strict";(self.webpackChunksgpt=self.webpackChunksgpt||[]).push([[9642],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=a.createContext({}),u=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=u(e.components);return a.createElement(p.Provider,{value:t},e.children)},l="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,p=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),l=u(n),d=o,m=l["".concat(p,".").concat(d)]||l[d]||h[d]||r;return n?a.createElement(m,i(i({ref:t},c),{},{components:n})):a.createElement(m,i({ref:t},c))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=d;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[l]="string"==typeof e?e:o,i[1]=s;for(var u=2;u<r;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},4486:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>u});var a=n(7462),o=(n(7294),n(3905));const r={},i=void 0,s={unversionedId:"Pages/AuthorizationLayer/AuthorizationLayer",id:"Pages/AuthorizationLayer/AuthorizationLayer",title:"AuthorizationLayer",description:"The AuthorizationLayer component is a higher-order component (HOC) that manages user authorization within a React application. It is designed to protect certain routes or sections of the application by ensuring that users are authenticated before accessing them. This component utilizes Firebase Authentication (onAuthStateChanged) to handle user authentication and provides an authorization context for child components.",source:"@site/docs/Pages/AuthorizationLayer/AuthorizationLayer.md",sourceDirName:"Pages/AuthorizationLayer",slug:"/Pages/AuthorizationLayer/",permalink:"/sgpt-docs/Pages/AuthorizationLayer/",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Pages/AuthorizationLayer/AuthorizationLayer.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"useScreenSize",permalink:"/sgpt-docs/Hooks/useScreenSize"},next:{title:"ChatPage",permalink:"/sgpt-docs/Pages/Chat page/ChatPage"}},p={},u=[{value:"Purpose",id:"purpose",level:3},{value:"Usage",id:"usage",level:3},{value:"Props",id:"props",level:3},{value:"Hooks and Context",id:"hooks-and-context",level:3},{value:"Behavior",id:"behavior",level:3},{value:"Custom Hook: useAuthorization",id:"custom-hook-useauthorization",level:3},{value:"Example Usage",id:"example-usage",level:3}],c={toc:u},l="wrapper";function h(e){let{components:t,...n}=e;return(0,o.kt)(l,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"AuthorizationLayer")," component is a higher-order component (HOC) that manages user authorization within a React application. It is designed to protect certain routes or sections of the application by ensuring that users are authenticated before accessing them. This component utilizes Firebase Authentication (",(0,o.kt)("inlineCode",{parentName:"p"},"onAuthStateChanged"),") to handle user authentication and provides an authorization context for child components."),(0,o.kt)("h3",{id:"purpose"},"Purpose"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"User Authentication"),": The primary purpose of this component is to monitor the user's authentication state using Firebase Authentication. It tracks whether a user is authenticated or not and stores user data when authenticated.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Route Protection"),": It redirects unauthenticated users to a login page when they attempt to access protected routes by utilizing the ",(0,o.kt)("inlineCode",{parentName:"p"},"useNavigate")," hook from React Router.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Context Provider"),": It provides an authorization context to child components, making user information (e.g., UID, email, display name, photo URL) accessible throughout the application."))),(0,o.kt)("h3",{id:"usage"},"Usage"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"static",static:!0},"<AuthorizationLayer>\n  {/* Protected components or routes */}\n</AuthorizationLayer>\n")),(0,o.kt)("h3",{id:"props"},"Props"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"children")," (ReactNode): The child components or routes that need to be protected and have access to the authorization context.")),(0,o.kt)("h3",{id:"hooks-and-context"},"Hooks and Context"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"useAuthorization()"),": A custom hook that allows child components to access the user's authorization data (e.g., UID, email, display name, photo URL).")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"AuthorizationContext"),": A React context that stores user authorization data and provides it to child components."))),(0,o.kt)("h3",{id:"behavior"},"Behavior"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Authentication State Monitoring"),": The ",(0,o.kt)("inlineCode",{parentName:"p"},"useEffect")," hook within the ",(0,o.kt)("inlineCode",{parentName:"p"},"AuthorizationLayer")," component monitors the authentication state of the user by using ",(0,o.kt)("inlineCode",{parentName:"p"},"onAuthStateChanged")," from Firebase Authentication. When a user logs in or out, this hook updates the ",(0,o.kt)("inlineCode",{parentName:"p"},"userData")," state accordingly.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Redirect to Login"),": If the user is not authenticated (i.e., ",(0,o.kt)("inlineCode",{parentName:"p"},"user")," is ",(0,o.kt)("inlineCode",{parentName:"p"},"null"),"), the component redirects them to the login page using the ",(0,o.kt)("inlineCode",{parentName:"p"},"navigate")," function from React Router. This ensures that unauthorized users cannot access protected routes.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"User Data Storage"),": When a user is authenticated, their user data (UID, email, display name, photo URL) is stored in the ",(0,o.kt)("inlineCode",{parentName:"p"},"userData")," state.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Context Provider"),": The component wraps its children in the ",(0,o.kt)("inlineCode",{parentName:"p"},"AuthorizationContext.Provider"),", providing them access to the user's authorization data via the context.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"DataResolver"),": The ",(0,o.kt)("inlineCode",{parentName:"p"},"AuthorizationLayer")," uses the ",(0,o.kt)("inlineCode",{parentName:"p"},"DataResolver")," component to handle data loading and error states. While authentication data is being fetched, the ",(0,o.kt)("inlineCode",{parentName:"p"},"userData")," is set to ",(0,o.kt)("inlineCode",{parentName:"p"},"undefined"),", and child components can handle the loading state accordingly."))),(0,o.kt)("h3",{id:"custom-hook-useauthorization"},"Custom Hook: useAuthorization"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"useAuthorization()"),": Child components can use this hook to access the user's authorization data. It retrieves the user data stored in the context, allowing components to conditionally render content based on user authentication.")),(0,o.kt)("h3",{id:"example-usage"},"Example Usage"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"static",static:!0},"import React from 'react';\nimport AuthorizationLayer, { useAuthorization } from './AuthorizationLayer';\n\nfunction ProtectedComponent() {\n  const { UID, email, displayName } = useAuthorization();\n\n  return (\n    <div>\n      <h2>Welcome, {displayName}!</h2>\n      <p>Your UID: {UID}</p>\n      <p>Your Email: {email}</p>\n      {/* Render protected content */}\n    </div>\n  );\n}\n\nfunction App() {\n  return (\n    <AuthorizationLayer>\n      {/* Other components */}\n      <ProtectedComponent />\n    </AuthorizationLayer>\n  );\n}\n")),(0,o.kt)("p",null,"In this example, the ",(0,o.kt)("inlineCode",{parentName:"p"},"AuthorizationLayer")," component ensures that the ",(0,o.kt)("inlineCode",{parentName:"p"},"ProtectedComponent")," can only be accessed by authenticated users and provides access to user authorization data through the ",(0,o.kt)("inlineCode",{parentName:"p"},"useAuthorization")," hook."))}h.isMDXComponent=!0}}]);